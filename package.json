{
  "name": "visualizacion-barrios",
  "version": "1.0.2",
  "description": "Mapa coropl√©tico de barrios de CABA para Looker Studio",
  "main": "dist/Visualization.js",
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "postbuild": "npm run sanitize:manifest && npm run check:nbspace",
    "test": "vitest run",
    "prepare:version": "node scripts/prepare-version.mjs",
    "deploy:js": "npm run build && BUCKET_PATH=$(cat .bucket_path) && [[ \"$BUCKET_PATH\" == gs://mapa-barrios-degcba/* ]] && gsutil -h \"Content-Type: application/javascript\" -h \"Cache-Control: no-store\" cp dist/Visualization.js \"$BUCKET_PATH/Visualization.js\"",
    "deploy:css": "BUCKET_PATH=$(cat .bucket_path) && [[ \"$BUCKET_PATH\" == gs://mapa-barrios-degcba/* ]] && if [ -f dist/Visualization.css ]; then gsutil -h \"Content-Type: text/css\" -h \"Cache-Control: no-store\" cp dist/Visualization.css \"$BUCKET_PATH/Visualization.css\"; else echo \"No CSS to deploy\"; fi",
    "deploy:assets": "BUCKET_PATH=$(cat .bucket_path) && [[ \"$BUCKET_PATH\" == gs://mapa-barrios-degcba/* ]] && gsutil -h \"Content-Type: application/json\" -h \"Cache-Control: no-store\" cp public/config.json \"$BUCKET_PATH/config.json\" && gsutil -h \"Content-Type: application/json\" -h \"Cache-Control: no-store\" cp public/manifest.json \"$BUCKET_PATH/manifest.json\" && gsutil -h \"Content-Type: image/png\" -h \"Cache-Control: no-store\" cp public/Logo.png \"$BUCKET_PATH/Logo.png\" && gsutil -h \"Content-Type: image/png\" -h \"Cache-Control: no-store\" cp public/Icon.png \"$BUCKET_PATH/Icon.png\"",
    "deploy": "npm run prepare:version && npm run deploy:js && npm run deploy:css && npm run deploy:assets",
    "sanitize:manifest": "node -e \"const fs=require('fs');let t=fs.readFileSync('public/manifest.json','utf8');t=t.replace(/\\u00A0/g,' ').replace(/[\\u2000-\\u200D\\uFEFF]/g,' ').replace(/[\\t\\r\\n]+/g,' ').replace(/\\s{2,}/g,' ').trim();fs.writeFileSync('public/manifest.json',t)\"",
    "check:nbspace": "node -e \"const fs=require('fs');const s=fs.readFileSync('public/manifest.json','utf8');if(/[\\u00A0\\u2000-\\u200D\\uFEFF]/.test(s)){console.error('NBSP/zero-width detectado en public/manifest.json');process.exit(1)}else{console.log('OK: manifest sin NBSP/zero-width')}\""
  },
  "dependencies": {
    "@google/dscc": "^0.3.22",
    "leaflet": "^1.9.4"
  },
  "devDependencies": {
    "vite": "^7.1.1",
    "vitest": "^3.2.4"
  }
}
