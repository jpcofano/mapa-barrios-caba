{
  "data": {
    "supportedTransforms": [
      { "type": "geo_transform" }
    ]
  },
  "fields": {
    "geoDimension": {
      "name": "Dimensión de Texto (GeoJSON ID)",
      "types": ["TEXT"],
      "required": true,
      "max": 1,
      "description": "Arrastra la dimensión que coincide con el ID de las áreas del mapa."
    },
    "metricPrimary": {
      "name": "Métrica Principal",
      "types": ["NUMBER"],
      "required": true,
      "max": 1,
      "description": "Métrica usada para colorear las áreas del mapa."
    }
  },
  "style": {
    "nivelJerarquia": {
      "name": "Nivel de Jerarquía",
      "type": "DROPDOWN",
      "value": "barrio",
      "options": [
        { "label": "Barrio", "value": "barrio" },
        { "label": "Comuna", "value": "comuna" }
      ]
    },
    "geojsonProperty": {
      "name": "Propiedad de GeoJSON a Coincidir",
      "type": "TEXTINPUT",
      "value": "BARRIO",
      "placeholder": "Ej: 'name', 'BARRIO', 'COMUNA'"
    },
    "colorPalette": {
      "name": "Paleta de Colores",
      "type": "COLOR_PALETTE",
      "value": {
        "mode": "sequential",
        "colors": ["#f2f0f7", "#54278f"]
      }
    },
    "colorScale": {
      "name": "Escala de Colores",
      "type": "DROPDOWN",
      "value": "greenToRed",
      "options": [
        { "label": "Verde → Rojo", "value": "greenToRed" },
        { "label": "Azul → Amarillo", "value": "blueToYellow" },
        { "label": "Escala de Grises", "value": "grayscale" },
        { "label": "Amarillo", "value": "yellow" }
      ]
    },
    "invertScale": {
      "name": "Invertir Escala",
      "type": "CHECKBOX",
      "value": false
    },
    "showLabels": {
      "name": "Mostrar Etiquetas",
      "type": "CHECKBOX",
      "value": true
    },
    "showLegend": {
      "name": "Mostrar Leyenda",
      "type": "CHECKBOX",
      "value": true
    },
    "legendPosition": {
      "name": "Posición de la Leyenda",
      "type": "DROPDOWN",
      "value": "bottomright",
      "options": [
        { "label": "Arriba Izquierda", "value": "topleft" },
        { "label": "Arriba Derecha", "value": "topright" },
        { "label": "Abajo Izquierda", "value": "bottomleft" },
        { "label": "Abajo Derecha", "value": "bottomright" }
      ]
    },
    "showBorders": {
      "name": "Mostrar Bordes",
      "type": "CHECKBOX",
      "value": true
    },
    "borderColor": {
      "name": "Color del Borde",
      "type": "COLOR",
      "value": { "color": "#000000" }
    },
    "borderWidth": {
      "name": "Ancho del Borde",
      "type": "SLIDER",
      "value": 1,
      "min": 0,
      "max": 5,
      "step": 0.5
    },
    "borderOpacity": {
      "name": "Opacidad del Borde",
      "type": "SLIDER",
      "value": 1,
      "min": 0,
      "max": 1,
      "step": 0.05
    },
    "opacity": {
      "name": "Opacidad de Relleno",
      "type": "SLIDER",
      "value": 0.45,
      "min": 0,
      "max": 1,
      "step": 0.05
    },
    "colorMissing": {
      "name": "Color para Datos Faltantes",
      "type": "COLOR",
      "value": { "color": "#cccccc" }
    },
    "popupFormat": {
      "name": "Formato de Popup",
      "type": "TEXTAREA",
      "value": "<strong>{{nombre}}</strong><br/>Valor: {{valor}}"
    }
  }
}
