{
  "data": [
    {
      "id": "datos",
      "label": "Datos",
      "elements": [
      {
        "id": "geoDimension",
        "label": "Dimensión de Texto (GeoJSON ID)",
        "type": "DIMENSION",
        "defaultValue": "Barrio",
        "options": { "min": 1, "max": 1, "supportedTypes": ["DEFAULT"] }
      },

        {
          "id": "metricPrimary",
          "label": "Métrica Principal",
          "type": "METRIC",
          "options": { "min": 1, "max": 1 }
        }
      ]
    }
  ],
  "style": [
    {
      "id": "geojsonSettings",
      "label": "Configuración de GeoJSON",
      "elements": [
        {
          "id": "nivelJerarquia",
          "label": "Nivel (barrio/comuna)",
          "type": "SELECT_SINGLE",
          "defaultValue": "barrio",
          "options": [
            { "label": "Barrio", "value": "barrio" },
            { "label": "Comuna", "value": "comuna" }
          ]
        },
        {
          "id": "geojsonProperty",
          "label": "Propiedad del GeoJSON a Coincidir",
          "type": "TEXTINPUT",
          "defaultValue": ""
        }
      ]
    },
    {
      "id": "coloring",
      "label": "Colorización",
      "elements": [
        {
          "id": "colorScale",
          "label": "Escala",
          "type": "SELECT_SINGLE",
          "defaultValue": "greenToRed",
          "options": [
            { "label": "Green → Red", "value": "greenToRed" },
            { "label": "Blue → Yellow", "value": "blueToYellow" },
            { "label": "Grayscale", "value": "grayscale" },
            { "label": "Yellow", "value": "yellow" }
          ]
        },
        {
          "id": "invertScale",
          "label": "Invertir escala",
          "type": "CHECKBOX",
          "defaultValue": false
        },
        {
          "id": "customPalette",
          "label": "Paleta personalizada (hex separados por coma)",
          "type": "TEXTINPUT",
          "defaultValue": ""
        },
        {
          "id": "opacity",
          "label": "Opacidad del relleno",
          "type": "OPACITY",
          "defaultValue": 0.5
        }
      ]
    },
    {
      "id": "borders",
      "label": "Bordes",
      "elements": [
        {
          "id": "showBorders",
          "label": "Mostrar bordes",
          "type": "CHECKBOX",
          "defaultValue": true
        },
        {
          "id": "borderColor",
          "label": "Color del borde",
          "type": "BORDER_COLOR",
          "defaultValue": { "color": "#000000" }
        },
        {
          "id": "borderWidth",
          "label": "Grosor del borde",
          "type": "LINE_WEIGHT",
          "defaultValue": 1
        },
        {
          "id": "borderOpacity",
          "label": "Opacidad del borde",
          "type": "OPACITY",
          "defaultValue": 1
        }
      ]
    },
    {
      "id": "legendStyle",
      "label": "Leyenda y etiquetas",
      "elements": [
        {
          "id": "showLegend",
          "label": "Mostrar leyenda",
          "type": "CHECKBOX",
          "defaultValue": true
        },
        {
          "id": "legendPosition",
          "label": "Posición de la leyenda",
          "type": "SELECT_SINGLE",
          "defaultValue": "bottomright",
          "options": [
            { "label": "Arriba Izquierda", "value": "topleft" },
            { "label": "Arriba Derecha", "value": "topright" },
            { "label": "Abajo Izquierda", "value": "bottomleft" },
            { "label": "Abajo Derecha", "value": "bottomright" }
          ]
        },
        {
          "id": "showLabels",
          "label": "Mostrar etiquetas",
          "type": "CHECKBOX",
          "defaultValue": false
        }
      ]
    },
    {
      "id": "miscSettings",
      "label": "Adicional",
      "elements": [
        {
          "id": "colorMissing",
          "label": "Color sin dato",
          "type": "FILL_COLOR",
          "defaultValue": { "color": "#cccccc" }
        },
        {
          "id": "popupFormat",
          "label": "Formato del popup",
          "type": "TEXTINPUT",
          "defaultValue": "<strong>{{nombre}}</strong><br/>Valor: {{valor}}"
        }
      ]
    }
  ],
  "features": {
    "enableComparisonDateRange": false
  }
}
