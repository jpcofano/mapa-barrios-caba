{
  "data": {
    "supportedTransforms": [
      {
        "type": "geo_transform"
      }
    ],
    "fields": {
      "geoDimension": {
        "name": "Dimensión de Texto (GeoJSON ID)",
        "types": [
          "TEXT"
        ],
        "required": true,
        "max": 1,
        "description": "Arrastra la dimensión de texto que coincide con el ID de las áreas del mapa (ej. 'nombre_barrio')."
      },
      "metricPrimary": {
        "name": "Métrica Principal",
        "types": [
          "NUMBER"
        ],
        "required": true,
        "max": 1,
        "description": "Métrica usada para colorear las áreas del mapa."
      }
    }
  },
  "style": {
    "geojsonSettings": {
      "name": "Configuración de GeoJSON",
      "elements": [
        {
          "type": "TEXTINPUT",
          "id": "geojsonUrl",
          "name": "URL del GeoJSON",
          "value": "",
          "placeholder": "https://tuservidor.com/mi_mapa.geojson",
          "description": "Pega la URL pública de tu archivo GeoJSON (opcional)."
        },
        {
          "type": "TEXTINPUT",
          "id": "geojsonProperty",
          "name": "Propiedad del GeoJSON a Coincidir",
          "value": "",
          "placeholder": "Por ejemplo: 'name', 'id'",
          "description": "Nombre de la propiedad en el GeoJSON para hacer coincidir con la dimensión de texto."
        }
      ]
    },
    "mapStyle": {
      "name": "Estilo del Mapa",
      "elements": [
        {
          "type": "COLOR_PALETTE",
          "id": "colorPalette",
          "name": "Paleta de Colores",
          "value": {
            "mode": "sequential",
            "colors": ["#f2f0f7", "#3f007d"]
          },
          "description": "Define un degradado de colores para la métrica principal."
        },
        {
          "type": "SLIDER",
          "id": "minMaxOpacity",
          "name": "Opacidad del Relleno",
          "value": 0.8,
          "min": 0,
          "max": 1,
          "step": 0.05
        },
        {
          "type": "CHECKBOX",
          "id": "showBorders",
          "name": "Mostrar Bordes",
          "value": true
        },
        {
          "type": "COLOR",
          "id": "borderColor",
          "name": "Color del Borde",
          "value": {
            "color": "#000000"
          }
        },
        {
          "type": "SLIDER",
          "id": "borderWidth",
          "name": "Grosor del Borde",
          "value": 1,
          "min": 0,
          "max": 6,
          "step": 1
        },
        {
          "type": "SLIDER",
          "id": "borderOpacity",
          "name": "Opacidad del Borde",
          "value": 1,
          "min": 0,
          "max": 1,
          "step": 0.05
        }
      ]
    },
    "legendStyle": {
      "name": "Estilo de la Leyenda",
      "elements": [
        {
          "type": "CHECKBOX",
          "id": "showLegend",
          "name": "Mostrar Leyenda",
          "value": true
        },
        {
          "type": "SELECT_SINGLE",
          "id": "legendPosition",
          "name": "Posición de la Leyenda",
          "value": "bottomright",
          "options": [
            { "label": "Arriba Izquierda", "value": "topleft" },
            { "label": "Arriba Derecha", "value": "topright" },
            { "label": "Abajo Izquierda", "value": "bottomleft" },
            { "label": "Abajo Derecha", "value": "bottomright" }
          ]
        }
      ]
    },
    "miscSettings": {
      "name": "Configuraciones Adicionales",
      "elements": [
        {
          "type": "COLOR",
          "id": "colorMissing",
          "name": "Color sin Dato",
          "value": {
            "color": "#cccccc"
          }
        },
        {
          "type": "TEXTINPUT",
          "id": "popupFormat",
          "name": "Formato del Popup",
          "value": "<strong>{{nombre}}</strong><br/>Valor: {{valor}}",
          "description": "Formato de texto para el popup al hacer clic o pasar el mouse."
        }
      ]
    }
  }
}